
#### 自己紹介

名前：杉本 雅広（すぎもと まさひろ）

運営中： <a href="https://wgld.org/" target="_blank">wgld.org</a>, <a href="https://webgl.souhonzan.org/" target="_blank">WebGL 総本山</a>

<a target="_blank" href="https://twitter.com/h_doxas">@h_doxas | Twitter</a>

![doxas](sample.png)

---

#### GLSL ワークショップ要旨

* シェーダってどんなものか知ろう
* 初めてでも気軽に挑戦できるシェーダの世界
* セミナーを通じて感じるハイレベルな実装例
* みんなで挑戦シェーダアート
* フロントエンドにもっと高い表現力を！

---

#### GLSL 基礎講座

ウェブの世界に WebGL が登場し、ずいぶん経ちました。

既に、世界レベルで見ればウェブ界隈にもシェーダを用いた高い表現力が求められるケースは増えています。さらには、Unity などのゲームエンジンに代表される 3D コンテンツを作ることのできるソリューションの登場で、静かに、しかし確かに活気づいてきているのがシェーダテクニックのジャンルです。

---

#### GLSL 基礎講座

GLSL ワークショップのオープニングは、まずは GLSL 基礎講座からスタートです。

午後からは、GLSL を使いこなすプロのテクニックを学ぶことができるセミナーもあります。

今日という一日が、ここにいるみなさんにとっての有意義なシェーダと向き合うきっかけやモチベーションになってくれたとしたら、主催者としてとてもうれしいです。

---

#### GLSL 基礎講座

ちなみに今回のイベントの告知の際に、申込みと同時にアンケートを実施しみなさんに回答をお願いしました。

覚えていますでしょうか。

それを集計した結果がこれです。

---

#### GLSL 基礎講座

img

---

#### GLSL 基礎講座

かなりきれいに分布が別れたかな？ と個人的には思いました。

今日がシェーダ初挑戦、という人でもスムーズに取り組むことができるように、まずは GLSL の基本的な知識から始めていきましょう。既にそういった基礎知識をお持ちのみなさんは、再確認の意味でお聞きいただければと思います。

---

#### GLSL 基礎講座

ただしあえて先に書いておくと、今回は、あくまでも *理解のしやすさを重視* した基礎講座になっています。

厳密な GLSL の仕様や、GPU のアーキテクチャには触れません。特にシェーダに不慣れなうちは、難しく考えるとどこまででも無限に難しくできるジャンルですので、なによりもまずは *楽しくシェーダにトライできる状態* を真っ先に作ってしまう、ということが大事です。

<span class="capt">深いことは自分で調べて身につけるのが一番！（投げやり）</span>

---

#### 

---

#### シェーダ記述言語 GLSL

3DCG 描画のための API には、主に Windows を搭載した PC で使われている DirectX 系と、オープンソースでクロスプラットフォームな OpenGL があります。

これらはたぶん、ここにいらっしゃるみなさんは目にしたり、話を聞いたりしたことがあると思います。

GLSL は、上記二者のうち、OpenGL のファミリーに属しています。

---

#### シェーダ記述言語 GLSL

OpenGL 用の Shader Language なので、これを略して GLSL と呼ばれています。対応する OpenGL のバージョンが変わると、GLSL も変更を受ける場合がほとんどです。

今日は WebGL を使いますので、この WebGL に対応した GLSL のバージョンとして *GLSL ES 1.0* を使います。

参考：<a href="https://www.khronos.org/files/webgl/webgl-reference-card-1_0.pdf" target="_blank">webgl reference card</a> （PDF）

<span class="capt">このチートシートに関数の一覧などが掲載されています。</span>

---

#### シェーダ記述言語 GLSL

GLSL は、例えて言うなら *GPU 専用のプログラミング言語* です。JavaScript は主にブラウザなどで動作する言語ですが、GLSL は、GPU と呼ばれるグラフィックスの中枢で動作するプログラミング言語なんですね。

GPU は並列処理により高速に演算処理を行うことができるので、GLSL の書き方ひとつで、驚くようなグラフィックスをスクリーンに描き出すことができます。

---

#### フロントエンド風 GLSL 解説

GLSL やシェーダといった概念は、最初はどうしても難しいです。これは事実です。

でも、考え方ひとつ、捉え方ひとつで、実際には驚くほど気軽に書くことができます。今回は、フロントエンドになぞらえてシェーダについて解説してみます。

<span class="capt">身構えずに気軽な気持ちで聞いてね！</span>

---

#### フロントエンド風 GLSL 解説

ウェブページを構成する要素には、HTML と CSS、そして JavaScript などがありますが、GLSL を考える場合には HTML と CSS に例えてみるとイメージがし易いと思います。

というのも、WebGL や GLSL を使いこなすうえでの考え方も、複数の概念が組み合わさったような感じになっているからです。

---

#### フロントエンド風 GLSL 解説

たとえば HTML は文章によってコンテンツの構造や意味を記述します。そしてそこに、CSS が色や形を与えますね。これらは密接に関係していますが、それぞれに役割が異なっており、フロントエンドエンジニアであればそのあたりは日頃から常々考えていることだと思います。

GLSL にも、これと似たようなことが言える部分があります。

<span class="capt">どういうことなの！？</span>

---

#### フロントエンド風 GLSL 解説

WebGL を用いた開発では、GLSL を使って二種類のシェーダを記述します。

これらは **頂点シェーダ** と **フラグメントシェーダ** と呼ばれています。

これに、JavaScript などで記述されたアプリケーション本体が加わり、様々なグラフィックスを描画します。

---

#### フロントエンド風 GLSL 解説

JavaScript などの CPU 上で動作するアプリケーション本体は、言うなれば HTML のようなものです。

データの構造や、振る舞いの定義、それらの全体の制御などを行うのがアプリケーションの役割です。言い方を変えると、アプリケーションはあくまでもロジックや定義の集合体であって、直接的な外見との関係はシェーダに比べると疎です。

---

#### フロントエンド風 GLSL 解説

そして、頂点シェーダは CSS で言うところの `display` や `position` や `width`、`height` に相当する部分を担当します。

つまり「どこに表示するか」とか「どんな大きさで描く」とか、そういうことを制御するのが頂点シェーダの役割です。

---

#### フロントエンド風 GLSL 解説

一方でフラグメントシェーダは、CSS なら `background-color` や `color`、`opacity` などに相当すると言えるでしょう。

「どんな色を表示するか」といったような、見た目に大きく影響してくる処理を行うのがフラグメントシェーダの役割です。

---

#### フロントエンド風 GLSL 解説

* HTML は構造や意味を定義 ≒ WebGL のロジックや定義
* CSS の `position` や `width` ≒ 頂点シェーダ（形や大きさ）
* CSS の `color` や `opacity` ≒ フラグメントシェーダ（色）

<span class="capt">意外と似てる？</span>

---

#### 役割を把握しておく

このように、GLSL を用いたシェーダコーディングを手っ取り早く理解するためには、それぞれの役割についてしっかり把握しておくことが近道になります。

頂点シェーダは「形や大きさ」を制御し、どの場所に、どんな形で、どんな大きさで描くのか、といったことを決めます。フラグメントシェーダは、頂点シェーダが決めた「オブジェクトを描くべきスクリーン上のピクセル」に色を塗ってくれるわけですね。

これがとても大事な、シェーダのそれぞれの役割の違いです。

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---

#### 

---




